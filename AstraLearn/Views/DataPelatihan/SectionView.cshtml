@{
    ViewData["Title"] = "Pelatih - Pelatihan";
    Layout = "_LayoutSectionPelatih";
}

<input type="hidden" id="idPelatihan" value="@ViewBag.idPelatihan" />
<input type="hidden" id="idSection" value="@ViewBag.idSection" />

<section class="section">
    <div class="container-fluid">
        <!-- Video YouTube -->
        <div class="video-container">
            <iframe id="videoContainer" width="560" height="315" src="" frameborder="0" allowfullscreen></iframe>
        </div>
        <h1 id="namaSection" class="display-4 mb-4">Nama Section</h1>
        <p id="deskripsiSection" class="lead mb-4" style="max-width: 1800px; word-wrap: break-word;"></p>
        <!-- PDF Viewer -->
        <div class="pdf-container">
            <iframe id="pdfIframe" src="" width="100%" height="600px" frameborder="0"></iframe>
        </div>
    </div>
</section>

<style>
    .video-container {
        position: relative;
        width: 100%;
        height: 0;
        padding-bottom: 56.25%; /* 16:9 aspect ratio */
    }

    .video-container iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .pdf-container {
        width: 100%;
        max-width: 800px;
        margin-top: 20px;
    }

    /* Additional styles for larger headers and text */
    h2.display-4 {
        font-size: 2.5rem; /* Adjust the font size as needed */
    }

    p.lead {
        font-size: 1.25rem; /* Adjust the font size as needed */
    }
</style>

<script>
    var rootHost = "http://localhost:5180";
    var rootWebHost = "https://localhost:7157/SectionView/";
    var IdPelatihan = $("#idPelatihan").val();
    var IdSection = $("#idSection").val();
    var linkYt = "https://www.youtube.com/embed/";
    var pdfDirectory = "/Upload";  // Menggunakan URL relatif

    function loadForm() {
        $.ajax({
            url: rootHost + '/Section/GetSection?id=' + IdSection,
            method: 'get',
            contentType: 'application/json',
            success: function (response) {
                if (response.status === 200) {
                    var data = response.data;

                    // Update the HTML elements with the received data
                    $("#namaSection").text(data.nama_section);
                    $("#videoContainer").attr("src", linkYt + data.video_pembelajaran);
                    $("#deskripsiSection").text(data.deskripsi);

                    // If you want to handle the PDF as well, update the PDF container
                    var pdfIframe = $("#pdfIframe");
                    var pdfFileName = data.modul_pembelajaran; // Use modul_pembelajaran if available, otherwise use "Default.pdf"
                    pdfIframe.attr("src", pdfDirectory + "/" + pdfFileName);
                } else {
                    console.error("Failed to load section data.");
                }
            },
            error: function () {
                console.error("Failed to load section data.");
            }
        });
    }

    // Call the function to load the data on page load
    $(document).ready(function () {
        loadForm();
    });
</script>
